{"version":3,"file":"commonHelpers2.js","sources":["../src/js/filters.js","../src/js/api.js","../src/js/model/cards.js","../src/js/model/modal-product.js","../src/js/button-cart.js","../src/js/add-to-the-cart.js","../src/js/model/sorry.js","../src/js/homePage.js","../src/js/pagination.js","../src/js/actions-cards.js"],"sourcesContent":["import axios from 'axios';\nimport * as localStorageAPI from './localStorage.js';\nimport { BASE_URL } from './api.js';\n\nexport function renderCategoryList(list) {\n  const updatedList = [...list, 'Show all'];\n\n  const listOfCategory = updatedList.map(item => {\n    return `<li class=\"filters-categories-item\" data-category=\"${item}\">${item}</li>`;\n  });\n\n  const listElement = document.querySelector('.filters-categories-list');\n  listElement.insertAdjacentHTML(\n    'beforeend',\n    listOfCategory.join('').replaceAll('_', ' ')\n  );\n\n  console.log('Rendered Category List:', listOfCategory);\n}\n\nexport function openDropDown(event) {\n  const parentElement = this.closest('.filters-wrap');\n  const svgElement = parentElement.querySelector('.filters-down-svg');\n  const list = parentElement.querySelector('ul');\n\n  list.classList.toggle('list-active');\n  svgElement.classList.toggle('rotate');\n}\n\nexport function rotateButton(event) {\n  this.classList.toggle('rotate');\n  const list = this.previousElementSibling;\n\n  if (list.classList.contains('list-active')) {\n    list.classList.remove('list-active');\n  } else {\n    list.classList.add('list-active');\n  }\n}\n\nfunction triggerSearchButton() {\n  const searchButton = document.querySelector('.filters-search-btn');\n  if (searchButton) {\n    searchButton.click();\n  }\n}\n\nexport function changeCategoriesValue(event) {\n  const input = document.querySelector('.filters-categories');\n  const list = document.querySelector('.filters-categories-list');\n  const newValue = event.target.textContent;\n\n  input.textContent = newValue;\n  list.classList.remove('list-active');\n  list.nextElementSibling.classList.remove('rotate');\n  triggerSearchButton();\n  makeServerRequestAndUpdatePage(queryParameters);\n}\n\nexport function changeTypesValue(event) {\n  const input = document.querySelector('.filters-allTypes');\n  const list = document.querySelector('.filters-allTypes-list');\n  const newValue = event.target.textContent;\n\n  input.textContent = newValue;\n  list.classList.remove('list-active');\n  list.nextElementSibling.classList.remove('rotate');\n  triggerSearchButton();\n  makeServerRequestAndUpdatePage(queryParameters);\n}\n\nexport function collectQueryParameters() {\n  const filterSearch = document\n    .querySelector('.filters-allTypes')\n    .textContent.split(' ')\n    .join('');\n\n  const categoryElement = document.querySelector('.filters-categories');\n  const categoryText = categoryElement.textContent.trim();\n  const category =\n    categoryText.toLowerCase() === 'all'\n      ? ''\n      : categoryText.split(' ').join('_').replace('/', '&');\n\n  const searchWord = document.querySelector('.filters-input').value;\n\n  const queryParameters = {\n    category,\n    keyword: searchWord,\n    filterSearch: `by${filterSearch}`,\n  };\n\n  const paramsForBack = {\n    category,\n    keyword: searchWord,\n    filterSearch: `by${filterSearch}`,\n    page: 1,\n    limit: 9,\n  };\n\n  localStorageAPI.save('queryParams', paramsForBack);\n\n  return queryParameters;\n}\n\nexport function getFilter(arg) {\n  let filter;\n  switch (arg) {\n    case 'byAtoZ':\n      filter = 'byABC=true';\n      break;\n    case 'byZtoA':\n      filter = 'byABC=false';\n      break;\n    case 'byCheaperfirst':\n      filter = 'byPrice=true';\n      break;\n    case 'byExpensivefirst':\n      filter = 'byPrice=false';\n      break;\n    case 'byPopular':\n      filter = 'byPopularity=false';\n      break;\n    case 'byNotpopular':\n      filter = 'byPopularity=true';\n      break;\n    case 'Show all':\n      filter = '';\n      break;\n    default:\n      filter = 'byABC=true';\n      break;\n  }\n\n  return filter;\n}\n\nasync function makeServerRequestAndUpdatePage(queryParameters) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}?${new URLSearchParams(queryParameters)}`\n    );\n\n    console.log('Server response:', response.data);\n   \n  } catch (error) {\n    console.error('Error making server request:', error);\n  }\n}\n\n","import axios from 'axios';\nimport { getFilter } from './filters.js';\nexport const BASE_URL = 'https://food-boutique.b.goit.study/api/products';\n\n//запит на бекенд про категорії товарів\n\nexport async function getCategories() {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/categories`\n  );\n  return response.data;\n}\n\n// отримання усіх продуктів при першому завантаженні\nexport async function getAllProducts(queryParams) {\n  let { keyword, category, page, limit, filterSearch } = queryParams;\n\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth < 768) {\n    limit = 6;\n  } else if (screenWidth >= 768 && screenWidth < 1440) {\n    limit = 8;\n  } else {\n    limit = 9;\n  }\n\n  const params = new URLSearchParams({\n    page,\n    limit,\n  });\n  if (keyword !== '') {\n    params.append('keyword', keyword);\n  }\n\n  if (category !== '' && category !== 'Show_all' && category !== 'Categories') {\n    params.append('category', category);\n  }\n\n  const response = await axios.get(\n    `${BASE_URL}?${params}&${getFilter(filterSearch)}`\n  );\n  return response.data;\n}\n\nexport async function getDiscountProducts() {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/discount`\n  );\n  return response.data;\n}\n\nexport async function getPopularProducts() {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/popular`\n  );\n  return response.data;\n}\n\nexport async function getProductsByQuery(queryParams) {\n  try {\n    const { keyword, category, page = 1, filterSearch } = queryParams;\n    const limit = determineLimit();\n\n    const params = new URLSearchParams({ limit, page });\n\n    if (keyword) {\n      params.append('keyword', keyword);\n    }\n\n    if (category && category !== 'Show_all' && category !== 'Categories') {\n      params.append('category', category);\n    }\n\n    const response = await axios.get(`${BASE_URL}?${params}&${getFilter(filterSearch)}`);\n\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nexport async function getProducttById(id) {\n  const response = await axios.get(`${BASE_URL}/${id}`);\n  return response.data;\n}\n\nfunction determineLimit() {\n  const screenWidth = window.innerWidth;\n  return screenWidth < 768 ? 6 : screenWidth < 1440 ? 8 : 9;\n}\n\n\n// POST\nexport async function registrSubscription(client) {\n  const response = await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    client,\n    {\n      headers: {\n        'content-type': 'application/json',\n      },\n    }\n  );\n  return response.data;\n}\n\nexport async function order(order) {\n  const response = await axios.post(\n    `https://food-boutique.b.goit.study/api/orders`,\n    order,\n    {\n      headers: {\n        'content-type': 'application/json',\n      },\n    }\n  );\n  return response.data;\n}\n","import iconsPath from '../../images/icons.svg';\nimport { arrProducts } from '../homePage.js';\n\nexport function createProductCard(product) {\n  let { img, name, category, size, popularity, price, _id, is10PercentOff } =\n    product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n      <li class=\"product-card-general\">\n          <div class=\"img-wrapper\">\n            <img\n              class=\"card-img\"\n              src=\"${img}\"\n              alt=\"${name}\"\n              loading=\"lazy\"\n            />\n          </div>\n  \n              <div class=\"general-card-info\">\n                <div class=\"general-card-container\" >\n                    <h3 class=\"general-card-title\">${name}</h3>\n                    <div class=\"general-span-container\">\n                    <span class=\"general-span-info\">Category:<span class=\"span-info-value\">${category}</span></span>\n                    <span class=\"general-span-info\">Size:<span class=\"span-info-value\">${size}</span></span>\n                    <span class=\"general-span-info\">Popularity:<span class=\"span-info-value\">${popularity}</span></span>\n                    </div>\n                </div>\n                <div class=\"general-card-price\">\n                    <span class=\"general-span-price\">&#36;${price}</span>\n                    <button data-id=${_id} type=\"submit\" class=\"addToCart-btn js-addToCart-btn\" ${\n    isInCart ? 'disabled' : ''\n  }>\n                        <svg class=\"cart-svg \" width=\"18\" height=\"18\">\n                            <use href=\"${iconsPath}${\n    isInCart ? '#icon-checkmark' : '#icon-shopping-cart'\n  }\"></use>\n                \n                        </svg>\n                    </button>\n                </div>\n                <svg class=\"general-discount-svg ${\n                  is10PercentOff ? 'discount-label' : ''\n                }\" width=\"60\" height=\"60\">\n                  <use href=\"${iconsPath}#icon-discount\"></use>\n                </svg>\n              </div>\n      </li>\n      `;\n}\n\nexport function createPopularCard(product) {\n  const { img, name, category, size, popularity, _id } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n        <li class=\"popular-product-card\">\n            <div class=\"poppular-img-wrapper\">\n              <img\n                class=\"popular-card-img\"\n                src=\"${img}\"\n                alt=\"${name}\"\n                loading=\"lazy\"\n              />\n            </div>\n    \n                <div class=\"popular-card-info\" >\n                    <h3 class=\"popular-card-title\">${name}</h3>\n                    <div class=\"popular-span-container\">\n                    <span class=\"popular-span-info\">Category: <span class=\"span-info-value\">${category}</span></span>\n                    <span class=\"popular-span-info\">Size: <span class=\"span-info-value\">${size}</span></span>\n                    <span class=\"popular-span-info\">Popularity: <span class=\"span-info-value\">${popularity}</span></span>\n                    </div>\n                </div>\n                    \n                <button data-id=${_id} type=\"submit\" class=\"popular-card-btn js-addToCart-btn\" ${\n    isInCart ? 'disabled' : ''\n  }>\n                    <svg class=\"popular-cart-svg\" width=\"12\" height=\"12\">\n                        <use href=\"${iconsPath}${\n    isInCart ? '#icon-checkmark' : '#icon-shopping-cart'\n  }\"></use>\n                    </svg>\n                </button>\n            \n        </li>\n        `;\n}\n\nexport function createDiscountCard(product) {\n  const { img, name, price, _id } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n      <li class=\"discount-product-card\">\n      <div class=\"discount-img-wrapper\">\n        <img\n          class=\"discount-card-img\"\n          src=\"${img}\"\n          alt=\"${name}\"\n          loading=\"lazy\"\n        />\n        <svg class=\"discount-svg-icon\" width=\"60\" height=\"60\">\n          <use href=\"${iconsPath}#icon-discount\"></use>\n        </svg>\n\n      </div>\n\n      <div class=\"discount-card-info\" >\n          <h3 class=\"discount-card-title\">${name}</h3>\n\n          <div class=\"discount-card-price\">\n              <span class=\"span-price\">&#36;${price}</span>\n              <button data-id=${_id} type=\"submit\" class=\"addToCart-btn js-addToCart-btn\" ${\n    isInCart ? 'disabled' : ''\n  }>\n                  <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n                      <use href=\"${iconsPath}${\n    isInCart ? '#icon-checkmark' : '#icon-shopping-cart'\n  }\"></use>\n                  </svg>\n              </button>\n          </div>\n      </div>\n  </li>`;\n}\n\nexport function renderMarkup(data, typeOfCard, listOfCard) {\n  let markup;\n  typeOfCard === 'general'\n    ? (markup = data.map(product => createProductCard(product)))\n    : typeOfCard === 'popular'\n    ? (markup = data.map(product => createPopularCard(product)))\n    : (markup = data.map(product => createDiscountCard(product)));\n\n  listOfCard.innerHTML = markup.join('');\n}\n","// import { getProducttById } from '../api.js';\n// import { save, load, remove } from '../localStorage.js';\n// import {firstLoad, saveToLocalStorage} from '../add-to-the-cart.js';\nimport { arrProducts } from '../homePage.js';\n\nimport pathToSvg from '../../images/icons.svg';\n\nexport function onClickCloseModal() {\n  const modalProductBackdrop = document.querySelector(\n    '.modal-product-backdrop'\n  );\n  modalProductBackdrop.remove();\n  modalProductBackdrop.classList.add('is-hidden');\n  document.body.classList.remove('is-overflow-hidden');\n}\n\nexport function onEscapeCloseModal(event) {\n  const modalProductBackdrop = document.querySelector(\n    '.modal-product-backdrop'\n  );\n  if (event.key === 'Escape') {\n    onClickCloseModal();\n    modalProductBackdrop.classList.add('is-hidden');\n  }\n}\n\nexport function onClickOutModalProduct(event) {\n  const modalProductBackdrop = document.querySelector(\n    '.modal-product-backdrop'\n  );\n  if (event.target === modalProductBackdrop) {\n    onClickCloseModal();\n    modalProductBackdrop.classList.remove('is-hidden');\n  }\n}\n\nexport function onRenderModalProduct(product) {\n  let { name, category, desc, img, price, size, popularity, _id } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n          <div class=\"modal-product-backdrop\" data-modal>\n          <div class=\"modal-product\">\n              <button type=\"button\" class=\"modal-btn-close\" data-modal-close>\n                  <svg class=\"modal-svg-close\" width=\"28\" height=\"28\">\n                      <use href=\"${pathToSvg}#icon-close\"></use>\n                  </svg>\n              </button>\n      \n              <div class=\"modal-product-info\">\n                  <div class=\"modal-product-img-wrapper\">\n                    \n                      <img class=\"modal-product-img\" src=\"${img}\" alt=\"${name}\" width=\"1660\">\n        \n                  </div>\n      \n                  <div class=\"modal-product-description\">\n                      <h2 class=\"modal-title\">${name}</h2>\n      \n                      <ul class=\"modal-product-list\">\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Category:</h3>\n                              <p class=\"modal-product-content\">${category}</p>\n                          </li>\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Size:</h3>\n                              <p class=\"modal-product-content\">${size}</p>\n                          </li>\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Popularity:</h3>\n                              <p class=\"modal-product-content\">${popularity}</p>\n                          </li>\n                      </ul>\n      \n                      <p class=\"modal-product-text\">${desc}</p>\n                  </div>\n              </div>\n      \n              <div class=\"modal-product-wrapper-price\">\n                  <p class=\"modal-product-price\"><span>&#36;</span>${price}</p>\n                  <button data-id=${_id} type=\"submit\" class=\"modal-product-btn-price\">\n                  ${isInCart ? 'Remove from' : 'Add to'} \n                      <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n                          <use class=\"modal-icon-svg\" href=\"${pathToSvg}#icon-shopping-cart\"></use>\n                      </svg>\n                  </button>\n              </div>\n          </div>\n      </div>\n      `;\n}\n","import { getProducttById } from './api.js';\nimport {\n  onRenderModalProduct,\n  onClickCloseModal,\n  onClickOutModalProduct,\n  onEscapeCloseModal,\n} from './model/modal-product.js';\nimport { addToCartFromModal } from './homePage.js';\n\nexport async function openProductModal(event) {\n  if (event.target.closest('.js-addToCart-btn')) {\n    return;\n  }\n  // отримали інформацію по продукту\n  const ParentElement = event.target.closest('li');\n  const cardButton = ParentElement.querySelector('.js-addToCart-btn');\n  const productId = cardButton.getAttribute('data-id');\n  const productInfo = await getProducttById(productId);\n\n  // відмалювали модальне вікно, повісили слухачі подій\n  document\n    .querySelector('body')\n    .insertAdjacentHTML('beforeend', onRenderModalProduct(productInfo));\n  document.body.classList.add('is-overflow-hidden');\n  const closeModalButton = document.querySelector('.modal-btn-close');\n  closeModalButton.addEventListener('click', onClickCloseModal);\n  document.addEventListener('keydown', onEscapeCloseModal);\n  document.addEventListener('click', onClickOutModalProduct);\n  document\n    .querySelector('.modal-product-btn-price')\n    .addEventListener('click', addToCartFromModal);\n}\n","// import {arrProducts} from \"./homePage.js\"\nimport { getProducttById } from \"./api.js\";\nimport iconsPath from \"../images/icons.svg\"\nimport {getLength} from './header.js'\nimport { arrProducts } from './homePage.js';\n\n\n\nexport async function saveToLocalStorage(event) {\n   const id = event.currentTarget.getAttribute('data-id');\n   const passSvg = event.currentTarget.querySelector('use');\n   passSvg.setAttribute('href', `${iconsPath}#icon-checkmark`);\n   event.currentTarget.setAttribute('disabled', 'true');\n   const productData = {};\n\n   try {\n    const product = await getProducttById(id);\n   console.log(product);\n    const { category,  size, _id, name, price, img  } = product;\n    productData.category = category;\n    productData.size = size;\n    productData.id = _id;\n    productData.name = name;\n    productData.price = price;\n    productData.img = img;\n   } catch (error) {\n    console.log(error);\n   }\n    const localStorage = window.localStorage;\n\n    arrProducts.push(productData);\n   \n\n    localStorage.setItem(\"product\", JSON.stringify(arrProducts));\n\n    getLength();\n  }\n\n ","export function renderSorryMessage() {\n    return `\n        <div class=\"sorry-wrapper\">\n            <span class=\"emoji-sorry\">&#128561;</span>\n            <h3 class=\"sorry-message-text\"> Sorry, there are no items matching your filter request!</h3>\n        </div> \n    `;\n}","import iconsPath from '../images/icons.svg';\nimport pathToSvg from '../images/icons.svg';\nimport { getLength } from './header.js';\nimport {\n  openDropDown,\n  rotateButton,\n  changeCategoriesValue,\n  changeTypesValue,\n  collectQueryParameters,\n  renderCategoryList,\n} from './filters.js';\nimport {\n  getProductsByQuery,\n  getAllProducts,\n  getDiscountProducts,\n  getPopularProducts,\n  getProducttById,\n  getCategories,\n} from './api.js';\nimport { renderMarkup } from './model/cards.js';\nimport { openProductModal } from './button-cart.js';\nimport { saveToLocalStorage } from './add-to-the-cart.js';\nimport localStorageAPI from './localStorage.js';\nimport { renderSorryMessage } from './model/sorry.js';\n\nconst searchForm = document.querySelector('.filters-form');\nconst categoriesInput = document.querySelector('.filters-categories');\nconst allSearchInput = document.querySelector('.filters-allTypes');\nconst downBtn = document.querySelectorAll('.filters-down-svg');\nconst allTypesItem = document.querySelectorAll('.filters-allTypes-item');\nconst productsListGeneral = document.querySelector('.products-list-general');\nconst productListDiscount = document.querySelector('.products-list-discount');\nconst productListPopular = document.querySelector('.products-list-popular');\n\nexport let arrProducts = [];\n\nconst fillarrProducts = () => {\n  const dataFromLS = localStorageAPI.load('product');\n\n  if (dataFromLS === undefined) {\n    document.querySelector('#header-length').innerHTML = '0';\n    return;\n  }\n  document.querySelector('#header-length').innerHTML = dataFromLS.length;\n  arrProducts = dataFromLS;\n};\nfillarrProducts();\n\nfunction loadQueryParamsFromLS() {\n  const paramsFromLS = localStorageAPI.load('queryParams');\n  if (!paramsFromLS) {\n    localStorageAPI.save('queryParams', {\n      keyword: '',\n      category: '',\n      page: 1,\n      limit: 9,\n    });\n  }\n}\nloadQueryParamsFromLS();\n\n//ДЕФОЛТНИЙ РЕНДЕР ТОВАРІВ ПРИ ПЕРШОМУ ЗАВАНТАЖЕННІ САЙТУ\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  try {\n    const listOfCategories = await getCategories();\n    renderCategoryList(listOfCategories);\n    document.querySelectorAll('.filters-categories-item').forEach(item => {\n      item.addEventListener('click', changeCategoriesValue);\n    });\n\n    const paramsFromLS = localStorageAPI.load('queryParams');\n    const allProduct = await getAllProducts(paramsFromLS);\n    const arrOfAllProducts = allProduct.results;\n    renderMarkup(arrOfAllProducts, 'general', productsListGeneral);\n\n    let cards = document.querySelectorAll('.product-card-general');\n    cards.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const arrOfDiscountProducts = await getDiscountProducts();\n    renderMarkup(arrOfDiscountProducts, 'discount', productListDiscount);\n    let cardsDisc = document.querySelectorAll('.discount-product-card');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const arrOfPopularProducts = await getPopularProducts();\n    renderMarkup(arrOfPopularProducts, 'popular', productListPopular);\n    let cardsPop = document.querySelectorAll('.popular-product-card');\n    cardsPop.forEach(card => {\n      card.addEventListener('click', openProductModal);\n\n      const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n      addToCartBtn.forEach(btn => {\n        btn.addEventListener('click', saveToLocalStorage);\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n});\n\n// РОБОТА ДРОПДАУНІВ + ІНПУТ\n\ncategoriesInput.addEventListener('click', openDropDown);\nallSearchInput.addEventListener('click', openDropDown);\ndownBtn.forEach(btn => {\n  btn.addEventListener('click', rotateButton);\n});\n\nallTypesItem.forEach(item => {\n  item.addEventListener('click', changeTypesValue);\n});\n\n// ФІЛЬТРАЦІЯ ТОВАРІВ\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  try {\n    const queryParameters = collectQueryParameters();\n    const response = await getProductsByQuery(queryParameters);\n    const productForRender = response.results;\n    productsListGeneral.innerHTML = '';\n\n    if (productForRender.length === 0) {\n      const sorryMessage = renderSorryMessage();\n      productsListGeneral.insertAdjacentHTML('beforeend', sorryMessage);\n    } else {\n      renderMarkup(productForRender, 'general', productsListGeneral);\n\n      // Dodaj warunek przed wysłaniem żądania na serwer\n      if (shouldSendToServer()) {\n        await sendToServer(queryParameters);\n      }\n    }\n\n    let cardsDisc = document.querySelectorAll('.product-card-general');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      btn.addEventListener('click', saveToLocalStorage);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n});\n\n// Dodaj nowe funkcje sprawdzające, czy wysłać na serwer\nfunction shouldSendToServer() {\n  // Tutaj możesz umieścić swoje warunki, np. sprawdzanie, czy użytkownik jest zalogowany, itp.\n  return true;\n}\n\nasync function sendToServer(queryParameters) {\n  try {\n    // Tutaj dodaj kod do wysłania danych na serwer\n    console.log('Sending data to server:', queryParameters);\n  } catch (error) {\n    console.error('Error sending data to server:', error);\n  }\n}\n\n// ДОДАВАННЯ ТОВАРУ В КОРЗИНУ З МОДАЛЬНОГО ВІКНА\n\nexport async function addToCartFromModal(event) {\n  const productData = {};\n  const id = event.currentTarget.getAttribute('data-id');\n  const isInCart = arrProducts.some(product => product.id === id);\n\n  if (!isInCart) {\n    event.currentTarget.innerHTML = `Remove from <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n                <use class=\"modal-icon-svg\" href=\"${pathToSvg}#icon-shopping-cart\"></use>\n                </svg>`;\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      let _id = btn.getAttribute('data-id');\n      const passSvg = btn.querySelector('use');\n\n      if (_id === id) {\n        passSvg.setAttribute('href', `${iconsPath}#icon-checkmark`);\n        btn.disabled = true;\n      }\n    });\n\n    try {\n      const product = await getProducttById(id);\n      const { category, size, _id, name, price, img } = product;\n      productData.category = category;\n      productData.size = size;\n      productData.id = _id;\n      productData.name = name;\n      productData.price = price;\n      productData.img = img;\n    } catch (error) {\n      console.log(error);\n    }\n\n    const localStorage = window.localStorage;\n\n    arrProducts.push(productData);\n\n    localStorage.setItem('product', JSON.stringify(arrProducts));\n\n    getLength();\n  }\n\n  if (isInCart) {\n    event.currentTarget.innerHTML = `Add to <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n        <use class=\"modal-icon-svg\" href=\"${pathToSvg}#icon-shopping-cart\"></use>\n        </svg>`;\n    // Видаляємо продукт з arrProducts\n\n    const idCard = event.currentTarget.getAttribute('data-id');\n    arrProducts = arrProducts.filter(item => item.id !== idCard);\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      let _id = btn.getAttribute('data-id');\n      const passSvg = btn.querySelector('use');\n\n      if (_id === id) {\n        passSvg.setAttribute('href', `${iconsPath}#icon-shopping-cart`);\n        btn.disabled = false;\n      }\n    });\n\n    // Оновлюємо локалсторідж\n    localStorage.setItem('product', JSON.stringify(arrProducts));\n\n    getLength();\n  }\n}\n","import Pagination from 'tui-pagination';\nimport { getProductsByQuery } from './api.js';\nimport { renderMarkup } from './model/cards.js';\nimport { collectQueryParameters } from './filters.js';\nimport { renderSorryMessage } from './model/sorry.js';\nimport { openProductModal } from './button-cart.js';\nimport { saveToLocalStorage } from './add-to-the-cart.js';\n\nconst productsListGeneral = document.querySelector('.products-list-general');\nconst container = document.querySelector('#tui-pagination-container');\n\nconst calculateVisiblePages = () => {\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth <= 767) {\n    return 2;\n  } else {\n    return 4;\n  }\n};\n\nconst createPagination = () => {\n  const options = {\n    itemsPerPage: 1,\n    visiblePages: calculateVisiblePages(),\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton: `<a href=\"#\" class=\"icon tui-page-btn tui-{{type}}\">\n        <span class=\"tui-ico-{{type}}\">{{type}}\n        </span>\n        </a>`,\n      disabledMoveButton: `<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">\n        <span class=\"tui-ico-{{type}}\">{{type}}\n        </span>\n        </span>`,\n      moreButton:\n        '<a href=\"#\"  class=\"tui-page-btn-el tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  return new Pagination(container, options);\n};\n\nlet pagination = createPagination();\n\nwindow.addEventListener('resize', () => {\n  pagination = createPagination();\n});\n\n//Callback to switch between pages\nconst paginationClick = async event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n\n  try {\n    const queryParameters = collectQueryParameters();\n    queryParameters.page = currentPage;\n    const response = await getProductsByQuery(queryParameters);\n    const productForRender = response.results;\n\n    productsListGeneral.innerHTML = '';\n    if (productForRender.length === 0) {\n      const sorryMessage = renderSorryMessage();\n      productsListGeneral.insertAdjacentHTML('beforeend', sorryMessage);\n    } else {\n      renderMarkup(productForRender, 'general', productsListGeneral);\n    }\n    let cardsDisc = document.querySelectorAll('.product-card-general');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      btn.addEventListener('click', saveToLocalStorage);\n    });\n  } catch (err) {\n    console.log(err);\n    // container.classList.add('is-hidden');\n  }\n};\npagination.on('afterMove', paginationClick);\n\n//Callback to update pagination with new values\nconst paginationUpdate = async event => {\n  try {\n    const queryParameters = collectQueryParameters();\n    const response = await getProductsByQuery(queryParameters);\n    if (response.totalPages === 1) {\n      container.classList.add('is-hidden');\n    } else {\n      pagination.setTotalItems(response.totalPages);\n      container.classList.remove('is-hidden');\n    }\n    pagination.reset();\n  } catch (err) {\n    console.log(err);\n  }\n};\ndocument.addEventListener('DOMContentLoaded', paginationUpdate);\n\nconst searchForm = document.querySelector('.filters-form');\nsearchForm.addEventListener('submit', paginationUpdate);\n","document.addEventListener('DOMContentLoaded', () => {\n  const cardsContainer = document.querySelector('.products-list-general');\n\n  function handleScroll() {\n    const scrollPercent =\n      (window.scrollY / (document.body.scrollHeight - window.innerHeight)) *\n      100;\n\n    if (scrollPercent >= 30) {\n      cardsContainer.classList.add('animation');\n    }\n  }\n\n  window.addEventListener('scroll', handleScroll);\n});\n"],"names":["renderCategoryList","list","listOfCategory","item","openDropDown","event","parentElement","svgElement","rotateButton","triggerSearchButton","searchButton","changeCategoriesValue","input","newValue","makeServerRequestAndUpdatePage","changeTypesValue","collectQueryParameters","filterSearch","categoryText","category","searchWord","queryParameters","paramsForBack","localStorageAPI.save","getFilter","arg","filter","response","axios","BASE_URL","error","getCategories","getAllProducts","queryParams","keyword","page","limit","screenWidth","params","getDiscountProducts","getPopularProducts","getProductsByQuery","determineLimit","getProducttById","id","createProductCard","product","img","name","size","popularity","price","_id","is10PercentOff","isInCart","arrProducts","iconsPath","createPopularCard","createDiscountCard","renderMarkup","data","typeOfCard","listOfCard","markup","onClickCloseModal","modalProductBackdrop","onEscapeCloseModal","onClickOutModalProduct","onRenderModalProduct","desc","pathToSvg","openProductModal","productId","productInfo","addToCartFromModal","saveToLocalStorage","productData","localStorage","getLength","renderSorryMessage","searchForm","categoriesInput","allSearchInput","downBtn","allTypesItem","productsListGeneral","productListDiscount","productListPopular","fillarrProducts","dataFromLS","localStorageAPI","loadQueryParamsFromLS","listOfCategories","paramsFromLS","arrOfAllProducts","card","arrOfDiscountProducts","arrOfPopularProducts","btn","productForRender","sorryMessage","shouldSendToServer","sendToServer","passSvg","idCard","container","calculateVisiblePages","createPagination","options","Pagination","pagination","paginationClick","currentPage","err","paginationUpdate","cardsContainer","handleScroll"],"mappings":"4HAIO,SAASA,EAAmBC,EAAM,CAGvC,MAAMC,EAFc,CAAC,GAAGD,EAAM,UAAU,EAEL,IAAIE,GAC9B,sDAAsDA,MAASA,QACvE,EAEmB,SAAS,cAAc,0BAA0B,EACzD,mBACV,YACAD,EAAe,KAAK,EAAE,EAAE,WAAW,IAAK,GAAG,CAC/C,EAEE,QAAQ,IAAI,0BAA2BA,CAAc,CACvD,CAEO,SAASE,EAAaC,EAAO,CAClC,MAAMC,EAAgB,KAAK,QAAQ,eAAe,EAC5CC,EAAaD,EAAc,cAAc,mBAAmB,EACrDA,EAAc,cAAc,IAAI,EAExC,UAAU,OAAO,aAAa,EACnCC,EAAW,UAAU,OAAO,QAAQ,CACtC,CAEO,SAASC,EAAaH,EAAO,CAClC,KAAK,UAAU,OAAO,QAAQ,EAC9B,MAAMJ,EAAO,KAAK,uBAEdA,EAAK,UAAU,SAAS,aAAa,EACvCA,EAAK,UAAU,OAAO,aAAa,EAEnCA,EAAK,UAAU,IAAI,aAAa,CAEpC,CAEA,SAASQ,GAAsB,CAC7B,MAAMC,EAAe,SAAS,cAAc,qBAAqB,EAC7DA,GACFA,EAAa,MAAK,CAEtB,CAEO,SAASC,EAAsBN,EAAO,CAC3C,MAAMO,EAAQ,SAAS,cAAc,qBAAqB,EACpDX,EAAO,SAAS,cAAc,0BAA0B,EACxDY,EAAWR,EAAM,OAAO,YAE9BO,EAAM,YAAcC,EACpBZ,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,mBAAmB,UAAU,OAAO,QAAQ,EACjDQ,IACAK,EAA+B,eAAe,CAChD,CAEO,SAASC,EAAiBV,EAAO,CACtC,MAAMO,EAAQ,SAAS,cAAc,mBAAmB,EAClDX,EAAO,SAAS,cAAc,wBAAwB,EACtDY,EAAWR,EAAM,OAAO,YAE9BO,EAAM,YAAcC,EACpBZ,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,mBAAmB,UAAU,OAAO,QAAQ,EACjDQ,IACAK,EAA+B,eAAe,CAChD,CAEO,SAASE,GAAyB,CACvC,MAAMC,EAAe,SAClB,cAAc,mBAAmB,EACjC,YAAY,MAAM,GAAG,EACrB,KAAK,EAAE,EAGJC,EADkB,SAAS,cAAc,qBAAqB,EAC/B,YAAY,KAAI,EAC/CC,EACJD,EAAa,YAAW,IAAO,MAC3B,GACAA,EAAa,MAAM,GAAG,EAAE,KAAK,GAAG,EAAE,QAAQ,IAAK,GAAG,EAElDE,EAAa,SAAS,cAAc,gBAAgB,EAAE,MAEtDC,EAAkB,CACtB,SAAAF,EACA,QAASC,EACT,aAAc,KAAKH,GACvB,EAEQK,EAAgB,CACpB,SAAAH,EACA,QAASC,EACT,aAAc,KAAKH,IACnB,KAAM,EACN,MAAO,CACX,EAEEM,OAAAA,EAAqB,cAAeD,CAAa,EAE1CD,CACT,CAEO,SAASG,EAAUC,EAAK,CAC7B,IAAIC,EACJ,OAAQD,EAAG,CACT,IAAK,SACHC,EAAS,aACT,MACF,IAAK,SACHA,EAAS,cACT,MACF,IAAK,iBACHA,EAAS,eACT,MACF,IAAK,mBACHA,EAAS,gBACT,MACF,IAAK,YACHA,EAAS,qBACT,MACF,IAAK,eACHA,EAAS,oBACT,MACF,IAAK,WACHA,EAAS,GACT,MACF,QACEA,EAAS,aACT,KACH,CAED,OAAOA,CACT,CAEA,eAAeZ,EAA+BO,EAAiB,CAC7D,GAAI,CACF,MAAMM,EAAW,MAAMC,EAAM,IAC3B,GAAGC,KAAY,IAAI,gBAAgBR,CAAe,GACxD,EAEI,QAAQ,IAAI,mBAAoBM,EAAS,IAAI,CAE9C,OAAQG,EAAP,CACA,QAAQ,MAAM,+BAAgCA,CAAK,CACpD,CACH,CClJO,MAAMD,EAAW,kDAIjB,eAAeE,GAAgB,CAIpC,OAHiB,MAAMH,EAAM,IAC3B,4DACJ,GACkB,IAClB,CAGO,eAAeI,EAAeC,EAAa,CAChD,GAAI,CAAE,QAAAC,EAAS,SAAAf,EAAU,KAAAgB,EAAM,MAAAC,EAAO,aAAAnB,CAAc,EAAGgB,EAEvD,MAAMI,EAAc,OAAO,WAEvBA,EAAc,IAChBD,EAAQ,EACCC,GAAe,KAAOA,EAAc,KAC7CD,EAAQ,EAERA,EAAQ,EAGV,MAAME,EAAS,IAAI,gBAAgB,CACjC,KAAAH,EACA,MAAAC,CACJ,CAAG,EACD,OAAIF,IAAY,IACdI,EAAO,OAAO,UAAWJ,CAAO,EAG9Bf,IAAa,IAAMA,IAAa,YAAcA,IAAa,cAC7DmB,EAAO,OAAO,WAAYnB,CAAQ,GAGnB,MAAMS,EAAM,IAC3B,GAAGC,KAAYS,KAAUd,EAAUP,CAAY,GACnD,GACkB,IAClB,CAEO,eAAesB,GAAsB,CAI1C,OAHiB,MAAMX,EAAM,IAC3B,0DACJ,GACkB,IAClB,CAEO,eAAeY,GAAqB,CAIzC,OAHiB,MAAMZ,EAAM,IAC3B,yDACJ,GACkB,IAClB,CAEO,eAAea,EAAmBR,EAAa,CACpD,GAAI,CACF,KAAM,CAAE,QAAAC,EAAS,SAAAf,EAAU,KAAAgB,EAAO,EAAG,aAAAlB,CAAc,EAAGgB,EAChDG,EAAQM,IAERJ,EAAS,IAAI,gBAAgB,CAAE,MAAAF,EAAO,KAAAD,CAAM,CAAA,EAElD,OAAID,GACFI,EAAO,OAAO,UAAWJ,CAAO,EAG9Bf,GAAYA,IAAa,YAAcA,IAAa,cACtDmB,EAAO,OAAO,WAAYnB,CAAQ,GAGnB,MAAMS,EAAM,IAAI,GAAGC,KAAYS,KAAUd,EAAUP,CAAY,GAAG,GAEnE,IACjB,OAAQa,EAAP,CACA,cAAQ,MAAMA,CAAK,EACbA,CACP,CACH,CAEO,eAAea,EAAgBC,EAAI,CAExC,OADiB,MAAMhB,EAAM,IAAI,GAAGC,KAAYe,GAAI,GACpC,IAClB,CAEA,SAASF,GAAiB,CACxB,MAAML,EAAc,OAAO,WAC3B,OAAOA,EAAc,IAAM,EAAIA,EAAc,KAAO,EAAI,CAC1D,CCxFO,SAASQ,EAAkBC,EAAS,CACzC,GAAI,CAAE,IAAAC,EAAK,KAAAC,EAAM,SAAA7B,EAAU,KAAA8B,EAAM,WAAAC,EAAY,MAAAC,EAAO,IAAAC,EAAK,eAAAC,CAAgB,EACvEP,EACF,MAAMQ,EAAWC,EAAY,KAAKT,GAAWA,EAAQ,KAAOM,CAAG,EAE/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKYL;AAAA,qBACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAOgCA;AAAA;AAAA,6FAEwC7B;AAAA,yFACJ8B;AAAA,+FACMC;AAAA;AAAA;AAAA;AAAA,4DAInCC;AAAA,sCACtBC,0DAClCE,EAAW,WAAa;AAAA;AAAA,yCAGaE,IACrCF,EAAW,kBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,mDAOjBD,EAAiB,iBAAmB;AAAA,+BAEvBG;AAAA;AAAA;AAAA;AAAA,OAK/B,CAEO,SAASC,EAAkBX,EAAS,CACzC,KAAM,CAAE,IAAAC,EAAK,KAAAC,EAAM,SAAA7B,EAAU,KAAA8B,EAAM,WAAAC,EAAY,IAAAE,CAAK,EAAGN,EACjDQ,EAAWC,EAAY,KAAKT,GAAWA,EAAQ,KAAOM,CAAG,EAE/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKcL;AAAA,uBACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAM8BA;AAAA;AAAA,8FAEyC7B;AAAA,0FACJ8B;AAAA,gGACMC;AAAA;AAAA;AAAA;AAAA,kCAI9DE,6DAC9BE,EAAW,WAAa;AAAA;AAAA,qCAGSE,IACjCF,EAAW,kBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,SAOnC,CAEO,SAASI,EAAmBZ,EAAS,CAC1C,KAAM,CAAE,IAAAC,EAAK,KAAAC,EAAM,MAAAG,EAAO,IAAAC,CAAG,EAAKN,EAC5BQ,EAAWC,EAAY,KAAKT,GAAWA,EAAQ,KAAOM,CAAG,EAE/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKQL;AAAA,iBACAC;AAAA;AAAA;AAAA;AAAA,uBAIMQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMqBR;AAAA;AAAA;AAAA,8CAGEG;AAAA,gCACdC,0DAC5BE,EAAW,WAAa;AAAA;AAAA,mCAGOE,IAC/BF,EAAW,kBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,QAOnC,CAEO,SAASK,EAAaC,EAAMC,EAAYC,EAAY,CACzD,IAAIC,EACJF,IAAe,UACVE,EAASH,EAAK,IAAId,GAAWD,EAAkBC,CAAO,CAAC,EACxDe,IAAe,UACdE,EAASH,EAAK,IAAId,GAAWW,EAAkBX,CAAO,CAAC,EACvDiB,EAASH,EAAK,IAAId,GAAWY,EAAmBZ,CAAO,CAAC,EAE7DgB,EAAW,UAAYC,EAAO,KAAK,EAAE,CACvC,CCjIO,SAASC,GAAoB,CAClC,MAAMC,EAAuB,SAAS,cACpC,yBACJ,EACEA,EAAqB,OAAM,EAC3BA,EAAqB,UAAU,IAAI,WAAW,EAC9C,SAAS,KAAK,UAAU,OAAO,oBAAoB,CACrD,CAEO,SAASC,EAAmB7D,EAAO,CACxC,MAAM4D,EAAuB,SAAS,cACpC,yBACJ,EACM5D,EAAM,MAAQ,WAChB2D,IACAC,EAAqB,UAAU,IAAI,WAAW,EAElD,CAEO,SAASE,EAAuB9D,EAAO,CAC5C,MAAM4D,EAAuB,SAAS,cACpC,yBACJ,EACM5D,EAAM,SAAW4D,IACnBD,IACAC,EAAqB,UAAU,OAAO,WAAW,EAErD,CAEO,SAASG,EAAqBtB,EAAS,CAC5C,GAAI,CAAE,KAAAE,EAAM,SAAA7B,EAAU,KAAAkD,EAAM,IAAAtB,EAAK,MAAAI,EAAO,KAAAF,EAAM,WAAAC,EAAY,IAAAE,CAAK,EAAGN,EAClE,MAAMQ,EAAWC,EAAY,KAAKT,GAAWA,EAAQ,KAAOM,CAAG,EAE/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,mCAK0BkB;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,4DAOyBvB,WAAaC;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKzBA;AAAA;AAAA;AAAA;AAAA;AAAA,iEAKiB7B;AAAA;AAAA;AAAA;AAAA,iEAIA8B;AAAA;AAAA;AAAA;AAAA,iEAIAC;AAAA;AAAA;AAAA;AAAA,sDAIXmB;AAAA;AAAA;AAAA;AAAA;AAAA,qEAKelB;AAAA,oCACjCC;AAAA,oBAChBE,EAAW,cAAgB;AAAA;AAAA,8DAEegB;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,OAO9D,CCjFO,eAAeC,EAAiBlE,EAAO,CAC5C,GAAIA,EAAM,OAAO,QAAQ,mBAAmB,EAC1C,OAKF,MAAMmE,EAFgBnE,EAAM,OAAO,QAAQ,IAAI,EACd,cAAc,mBAAmB,EACrC,aAAa,SAAS,EAC7CoE,EAAc,MAAM9B,EAAgB6B,CAAS,EAGnD,SACG,cAAc,MAAM,EACpB,mBAAmB,YAAaJ,EAAqBK,CAAW,CAAC,EACpE,SAAS,KAAK,UAAU,IAAI,oBAAoB,EACvB,SAAS,cAAc,kBAAkB,EACjD,iBAAiB,QAAST,CAAiB,EAC5D,SAAS,iBAAiB,UAAWE,CAAkB,EACvD,SAAS,iBAAiB,QAASC,CAAsB,EACzD,SACG,cAAc,0BAA0B,EACxC,iBAAiB,QAASO,EAAkB,CACjD,CCvBO,eAAeC,EAAmBtE,EAAO,CAC7C,MAAMuC,EAAKvC,EAAM,cAAc,aAAa,SAAS,EACrCA,EAAM,cAAc,cAAc,KAAK,EAC/C,aAAa,OAAQ,GAAGmD,kBAA0B,EAC1DnD,EAAM,cAAc,aAAa,WAAY,MAAM,EACnD,MAAMuE,EAAc,CAAA,EAEpB,GAAI,CACH,MAAM9B,EAAU,MAAMH,EAAgBC,CAAE,EACzC,QAAQ,IAAIE,CAAO,EAClB,KAAM,CAAE,SAAA3B,EAAW,KAAA8B,EAAM,IAAAG,EAAK,KAAAJ,EAAM,MAAAG,EAAO,IAAAJ,CAAM,EAAGD,EACpD8B,EAAY,SAAWzD,EACvByD,EAAY,KAAO3B,EACnB2B,EAAY,GAAKxB,EACjBwB,EAAY,KAAO5B,EACnB4B,EAAY,MAAQzB,EACpByB,EAAY,IAAM7B,CAClB,OAAQjB,EAAP,CACD,QAAQ,IAAIA,CAAK,CACjB,CACA,MAAM+C,EAAe,OAAO,aAE5BtB,EAAY,KAAKqB,CAAW,EAG5BC,EAAa,QAAQ,UAAW,KAAK,UAAUtB,CAAW,CAAC,EAE3DuB,GACJ,CCpCO,SAASC,GAAqB,CACjC,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,KAMX,CCkBA,MAAMC,GAAa,SAAS,cAAc,eAAe,EACnDC,GAAkB,SAAS,cAAc,qBAAqB,EAC9DC,GAAiB,SAAS,cAAc,mBAAmB,EAC3DC,GAAU,SAAS,iBAAiB,mBAAmB,EACvDC,GAAe,SAAS,iBAAiB,wBAAwB,EACjEC,EAAsB,SAAS,cAAc,wBAAwB,EACrEC,GAAsB,SAAS,cAAc,yBAAyB,EACtEC,GAAqB,SAAS,cAAc,wBAAwB,EAEnE,IAAIhC,EAAc,CAAA,EAEzB,MAAMiC,GAAkB,IAAM,CAC5B,MAAMC,EAAaC,EAAgB,KAAK,SAAS,EAEjD,GAAID,IAAe,OAAW,CAC5B,SAAS,cAAc,gBAAgB,EAAE,UAAY,IACrD,MACD,CACD,SAAS,cAAc,gBAAgB,EAAE,UAAYA,EAAW,OAChElC,EAAckC,CAChB,EACAD,KAEA,SAASG,IAAwB,CACVD,EAAgB,KAAK,aAAa,GAErDA,EAAgB,KAAK,cAAe,CAClC,QAAS,GACT,SAAU,GACV,KAAM,EACN,MAAO,CACb,CAAK,CAEL,CACAC,KAIA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,GAAI,CACF,MAAMC,EAAmB,MAAM7D,IAC/B/B,EAAmB4F,CAAgB,EACnC,SAAS,iBAAiB,0BAA0B,EAAE,QAAQzF,GAAQ,CACpEA,EAAK,iBAAiB,QAASQ,CAAqB,CAC1D,CAAK,EAED,MAAMkF,EAAeH,EAAgB,KAAK,aAAa,EAEjDI,GADa,MAAM9D,EAAe6D,CAAY,GAChB,QACpClC,EAAamC,EAAkB,UAAWT,CAAmB,EAEjD,SAAS,iBAAiB,uBAAuB,EACvD,QAAQU,GAAQ,CACpBA,EAAK,iBAAiB,QAASxB,CAAgB,CACrD,CAAK,EAED,MAAMyB,EAAwB,MAAMzD,IACpCoB,EAAaqC,EAAuB,WAAYV,EAAmB,EACnD,SAAS,iBAAiB,wBAAwB,EACxD,QAAQS,GAAQ,CACxBA,EAAK,iBAAiB,QAASxB,CAAgB,CACrD,CAAK,EAED,MAAM0B,EAAuB,MAAMzD,IACnCmB,EAAasC,EAAsB,UAAWV,EAAkB,EACjD,SAAS,iBAAiB,uBAAuB,EACvD,QAAQQ,GAAQ,CACvBA,EAAK,iBAAiB,QAASxB,CAAgB,EAE1B,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ2B,GAAO,CAC1BA,EAAI,iBAAiB,QAASvB,CAAkB,CACxD,CAAO,CACP,CAAK,CACF,OAAQ7C,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAIDmD,GAAgB,iBAAiB,QAAS7E,CAAY,EACtD8E,GAAe,iBAAiB,QAAS9E,CAAY,EACrD+E,GAAQ,QAAQe,GAAO,CACrBA,EAAI,iBAAiB,QAAS1F,CAAY,CAC5C,CAAC,EAED4E,GAAa,QAAQjF,GAAQ,CAC3BA,EAAK,iBAAiB,QAASY,CAAgB,CACjD,CAAC,EAIDiE,GAAW,iBAAiB,SAAU,MAAM3E,GAAS,CACnDA,EAAM,eAAc,EACpB,GAAI,CACF,MAAMgB,EAAkBL,IAElBmF,GADW,MAAM1D,EAAmBpB,CAAe,GACvB,QAGlC,GAFAgE,EAAoB,UAAY,GAE5Bc,EAAiB,SAAW,EAAG,CACjC,MAAMC,EAAerB,IACrBM,EAAoB,mBAAmB,YAAae,CAAY,CACtE,MACMzC,EAAawC,EAAkB,UAAWd,CAAmB,EAGzDgB,GAAkB,GACpB,MAAMC,GAAajF,CAAe,EAItB,SAAS,iBAAiB,uBAAuB,EACvD,QAAQ0E,GAAQ,CACxBA,EAAK,iBAAiB,QAASxB,CAAgB,CACrD,CAAK,EAEoB,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ2B,GAAO,CAC1BA,EAAI,iBAAiB,QAASvB,CAAkB,CACtD,CAAK,CACF,OAAQ7C,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAGD,SAASuE,IAAqB,CAE5B,MAAO,EACT,CAEA,eAAeC,GAAajF,EAAiB,CAC3C,GAAI,CAEF,QAAQ,IAAI,0BAA2BA,CAAe,CACvD,OAAQS,EAAP,CACA,QAAQ,MAAM,gCAAiCA,CAAK,CACrD,CACH,CAIO,eAAe4C,GAAmBrE,EAAO,CAC9C,MAAMuE,EAAc,CAAA,EACdhC,EAAKvC,EAAM,cAAc,aAAa,SAAS,EAC/CiD,EAAWC,EAAY,KAAKT,GAAWA,EAAQ,KAAOF,CAAE,EAE9D,GAAI,CAACU,EAAU,CACbjD,EAAM,cAAc,UAAY;AAAA,oDACgBiE;AAAAA,wBAG3B,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ4B,GAAO,CAC1B,IAAI9C,EAAM8C,EAAI,aAAa,SAAS,EACpC,MAAMK,EAAUL,EAAI,cAAc,KAAK,EAEnC9C,IAAQR,IACV2D,EAAQ,aAAa,OAAQ,GAAG/C,kBAA0B,EAC1D0C,EAAI,SAAW,GAEvB,CAAK,EAED,GAAI,CACF,MAAMpD,EAAU,MAAMH,EAAgBC,CAAE,EAClC,CAAE,SAAAzB,EAAU,KAAA8B,EAAM,IAAAG,EAAK,KAAAJ,EAAM,MAAAG,EAAO,IAAAJ,CAAK,EAAGD,EAClD8B,EAAY,SAAWzD,EACvByD,EAAY,KAAO3B,EACnB2B,EAAY,GAAKxB,EACjBwB,EAAY,KAAO5B,EACnB4B,EAAY,MAAQzB,EACpByB,EAAY,IAAM7B,CACnB,OAAQjB,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CAED,MAAM+C,EAAe,OAAO,aAE5BtB,EAAY,KAAKqB,CAAW,EAE5BC,EAAa,QAAQ,UAAW,KAAK,UAAUtB,CAAW,CAAC,EAE3DuB,GACD,CAED,GAAIxB,EAAU,CACZjD,EAAM,cAAc,UAAY;AAAA,4CACQiE;AAAAA,gBAIxC,MAAMkC,EAASnG,EAAM,cAAc,aAAa,SAAS,EACzDkD,EAAcA,EAAY,OAAOpD,GAAQA,EAAK,KAAOqG,CAAM,EAEtC,SAAS,iBAAiB,mBAAmB,EACrD,QAAQN,GAAO,CAC1B,IAAI9C,EAAM8C,EAAI,aAAa,SAAS,EACpC,MAAMK,EAAUL,EAAI,cAAc,KAAK,EAEnC9C,IAAQR,IACV2D,EAAQ,aAAa,OAAQ,GAAG/C,sBAA8B,EAC9D0C,EAAI,SAAW,GAEvB,CAAK,EAGD,aAAa,QAAQ,UAAW,KAAK,UAAU3C,CAAW,CAAC,EAE3DuB,GACD,CACH,CCrOA,MAAMO,EAAsB,SAAS,cAAc,wBAAwB,EACrEoB,EAAY,SAAS,cAAc,2BAA2B,EAE9DC,GAAwB,IACR,OAAO,YAER,IACV,EAEA,EAILC,EAAmB,IAAM,CAC7B,MAAMC,EAAU,CACd,aAAc,EACd,aAAcF,GAAuB,EACrC,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WAAY;AAAA;AAAA;AAAA,cAIZ,mBAAoB;AAAA;AAAA;AAAA,iBAIpB,WACE,uGAGH,CACL,EAEE,OAAO,IAAIG,EAAWJ,EAAWG,CAAO,CAC1C,EAEA,IAAIE,EAAaH,EAAgB,EAEjC,OAAO,iBAAiB,SAAU,IAAM,CACtCG,EAAaH,EAAgB,CAC/B,CAAC,EAGD,MAAMI,GAAkB,MAAM1G,GAAS,CACrC,MAAM2G,EAAc3G,EAAM,KAC1B,QAAQ,IAAI2G,CAAW,EAEvB,GAAI,CACF,MAAM3F,EAAkBL,IACxBK,EAAgB,KAAO2F,EAEvB,MAAMb,GADW,MAAM1D,EAAmBpB,CAAe,GACvB,QAGlC,GADAgE,EAAoB,UAAY,GAC5Bc,EAAiB,SAAW,EAAG,CACjC,MAAMC,EAAerB,IACrBM,EAAoB,mBAAmB,YAAae,CAAY,CACtE,MACMzC,EAAawC,EAAkB,UAAWd,CAAmB,EAE/C,SAAS,iBAAiB,uBAAuB,EACvD,QAAQU,GAAQ,CACxBA,EAAK,iBAAiB,QAASxB,CAAgB,CACrD,CAAK,EAEoB,SAAS,iBAAiB,mBAAmB,EACrD,QAAQ2B,GAAO,CAC1BA,EAAI,iBAAiB,QAASvB,CAAkB,CACtD,CAAK,CACF,OAAQsC,EAAP,CACA,QAAQ,IAAIA,CAAG,CAEhB,CACH,EACAH,EAAW,GAAG,YAAaC,EAAe,EAG1C,MAAMG,EAAmB,MAAM7G,GAAS,CACtC,GAAI,CACF,MAAMgB,EAAkBL,IAClBW,EAAW,MAAMc,EAAmBpB,CAAe,EACrDM,EAAS,aAAe,EAC1B8E,EAAU,UAAU,IAAI,WAAW,GAEnCK,EAAW,cAAcnF,EAAS,UAAU,EAC5C8E,EAAU,UAAU,OAAO,WAAW,GAExCK,EAAW,MAAK,CACjB,OAAQG,EAAP,CACA,QAAQ,IAAIA,CAAG,CAChB,CACH,EACA,SAAS,iBAAiB,mBAAoBC,CAAgB,EAE9D,MAAMlC,GAAa,SAAS,cAAc,eAAe,EACzDA,GAAW,iBAAiB,SAAUkC,CAAgB,EC9GtD,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAiB,SAAS,cAAc,wBAAwB,EAEtE,SAASC,GAAe,CAEnB,OAAO,SAAW,SAAS,KAAK,aAAe,OAAO,aACvD,KAEmB,IACnBD,EAAe,UAAU,IAAI,WAAW,CAE3C,CAED,OAAO,iBAAiB,SAAUC,CAAY,CAChD,CAAC"}