{"version":3,"file":"commonHelpers2.js","sources":["../src/js/templates/cards.js","../src/js/templates/modal-product.js","../src/js/card-button.js","../src/js/addToCart.js","../src/js/templates/renderSorryMessage.js","../src/js/homePage.js","../src/js/pagination.js","../src/js/cards-actions.js"],"sourcesContent":["import iconsPath from '../../images/icons.svg';\nimport { arrProducts } from '../homePage.js';\n\nexport function createProductCard(product) {\n  let { img, name, category, size, popularity, price, _id, is10PercentOff } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n      <li class=\"product-card-general\">\n          <div class=\"img-wrapper\">\n            <img\n              class=\"card-img\"\n              src=\"${img}\"\n              alt=\"${name}\"\n              loading=\"lazy\"\n            />\n          </div>\n  \n              <div class=\"general-card-container\" >\n                  <h3 class=\"general-card-title\">${name}</h3>\n                  <div class=\"general-span-container\">\n                  <span class=\"general-span-info\">Category:<span class=\"span-info-value\">${category}</span></span>\n\n                  <span class=\"general-span-info\">Size:<span class=\"span-info-value\">${size}</span></span>\n\n                  <span class=\"general-span-info\">Popularity:<span class=\"span-info-value\">${popularity}</span></span>\n                  </div>\n              </div>\n    \n              <div class=\"general-card-price\">\n                  <span class=\"general-span-price\">&#36;${price}</span>\n                  <button data-id=${_id} type=\"submit\" class=\"addToCart-btn js-addToCart-btn\" ${isInCart ? 'disabled': ''}>\n                      <svg class=\"cart-svg \" width=\"18\" height=\"18\">\n                          <use href=\"${iconsPath}${isInCart ? '#icon-checkmark' : '#icon-shopping-cart'}\"></use>\n                         \n                      </svg>  \n                  </button>\n              </div>\n              <svg class=\"general-discount-svg ${is10PercentOff ? \"discount-label\" : \"\"}\" width=\"60\" height=\"60\">\n                <use href=\"${iconsPath}#icon-discount\"></use>\n              </svg>\n      </li>\n      `;\n}\n\nexport function createPopularCard(product) {\n  const { img, name, category, size, popularity, _id } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n\n  return `\n        <li class=\"popular-product-card\">\n            <div class=\"poppular-img-wrapper\">\n              <img\n                class=\"popular-card-img\"\n                src=\"${img}\"\n                alt=\"${name}\"\n                loading=\"lazy\"\n              />\n            </div>\n    \n                <div class=\"popular-card-info\" >\n                    <h3 class=\"popular-card-title\">${name}</h3>\n                    <div class=\"popular-span-container\">\n                    <span class=\"popular-span-info\">Category: <span class=\"span-info-value\">${category}</span></span>\n                    <span class=\"popular-span-info\">Size: <span class=\"span-info-value\">${size}</span></span>\n                    <span class=\"popular-span-info\">Popularity: <span class=\"span-info-value\">${popularity}</span></span>\n                    </div>\n                </div>\n                    \n                <button data-id=${_id} type=\"submit\" class=\"popular-card-btn js-addToCart-btn\" ${isInCart ? 'disabled': ''}>\n                    <svg class=\"popular-cart-svg\" width=\"12\" height=\"12\">\n                        <use href=\"${iconsPath}${isInCart ? '#icon-checkmark' : '#icon-shopping-cart'}\"></use>\n                    </svg>\n                </button>\n            \n        </li>\n        `;\n}\n\nexport function createDiscountCard(product) {\n  const { img, name, price, _id } = product;\n  const isInCart = arrProducts.some(product => product.id === _id);\n\n\n  return `\n      <li class=\"discount-product-card\">\n      <div class=\"discount-img-wrapper\">\n        <img\n          class=\"discount-card-img\"\n          src=\"${img}\"\n          alt=\"${name}\"\n          loading=\"lazy\"\n        />\n        <svg class=\"discount-svg-icon\" width=\"60\" height=\"60\">\n          <use href=\"${iconsPath}#icon-discount\"></use>\n        </svg>\n\n      </div>\n\n      <div class=\"discount-card-info\" >\n          <h3 class=\"discount-card-title\">${name}</h3>\n\n          <div class=\"discount-card-price\">\n              <span class=\"span-price\">&#36;${price}</span>\n              <button data-id=${_id} type=\"submit\" class=\"addToCart-btn js-addToCart-btn\" ${isInCart ? 'disabled': ''}>\n                  <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n                      <use href=\"${iconsPath}${isInCart ? '#icon-checkmark' : '#icon-shopping-cart'}\"></use>\n                  </svg>\n              </button>\n          </div>\n      </div>\n  </li>`;\n}\n\nexport function renderMarkup(data, typeOfCard, listOfCard) {\n  let markup;\n  typeOfCard === 'general'\n    ? (markup = data.map(product => createProductCard(product)))\n    : typeOfCard === 'popular'\n    ? (markup = data.map(product => createPopularCard(product)))\n    : (markup = data.map(product => createDiscountCard(product)));\n\n  listOfCard.innerHTML = markup.join('');\n}","// import { getProducttById } from '../api.js';\n// import { save, load, remove } from '../localStorage.js';\n// import {firstLoad, saveToLocalStorage} from '../addToCart.js';\nimport {arrProducts} from '../homePage.js';\n\n\nimport pathToSvg from '../../images/icons.svg';\n\n export function onClickCloseModal() {\n    const modalProductBackdrop = document.querySelector('.modal-product-backdrop');\n    modalProductBackdrop.remove();\n    modalProductBackdrop.classList.add('is-hidden');\n    document.body.classList.remove('is-overflow-hidden');\n  };\n\n export function onEscapeCloseModal (event) {\n    const modalProductBackdrop = document.querySelector('.modal-product-backdrop');\n    if(event.key === 'Escape') {\n      onClickCloseModal();\n      modalProductBackdrop.classList.add('is-hidden');\n    }\n  };\n\n export function onClickOutModalProduct(event) {\n    const modalProductBackdrop = document.querySelector('.modal-product-backdrop');\n    if(event.target === modalProductBackdrop) {\n        onClickCloseModal();\n        modalProductBackdrop.classList.remove('is-hidden');\n    }\n  } \n\nexport function onRenderModalProduct(product) {\n    \n    let { name, category, desc, img, price, size, popularity, _id } = product;\n    const isInCart = arrProducts.some(product => product.id === _id);\n\n  return `\n          <div class=\"modal-product-backdrop\" data-modal>\n          <div class=\"modal-product\">\n              <button type=\"button\" class=\"modal-btn-close\" data-modal-close>\n                  <svg class=\"modal-svg-close\" width=\"28\" height=\"28\">\n                      <use href=\"${pathToSvg}#icon-close\"></use>\n                  </svg>\n              </button>\n      \n              <div class=\"modal-product-info\">\n                  <div class=\"modal-product-img-wrapper\">\n                    \n                      <img class=\"modal-product-img\" src=\"${img}\" alt=\"${name}\" width=\"1660\">\n        \n                  </div>\n      \n                  <div class=\"modal-product-description\">\n                      <h2 class=\"modal-title\">${name}</h2>\n      \n                      <ul class=\"modal-product-list\">\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Category:</h3>\n                              <p class=\"modal-product-content\">${category}</p>\n                          </li>\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Size:</h3>\n                              <p class=\"modal-product-content\">${size}</p>\n                          </li>\n                          <li class=\"modal-product-item\">\n                              <h3 class=\"modal-product-caption\">Popularity:</h3>\n                              <p class=\"modal-product-content\">${popularity}</p>\n                          </li>\n                      </ul>\n      \n                      <p class=\"modal-product-text\">${desc}</p>\n                  </div>\n              </div>\n      \n              <div class=\"modal-product-wrapper-price\">\n                  <p class=\"modal-product-price\"><span>&#36;</span>${price}</p>\n                  <button data-id=${_id} type=\"submit\" class=\"modal-product-btn-price\">\n                  ${isInCart ? 'Remove from' : 'Add to'} \n                      <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n                          <use class=\"modal-icon-svg\" href=\"${pathToSvg}#icon-shopping-cart\"></use>\n                      </svg>\n                  </button>\n              </div>\n          </div>\n      </div>\n      `;\n}\n","import { getProducttById } from './api.js';\nimport { onRenderModalProduct, onClickCloseModal, onClickOutModalProduct, onEscapeCloseModal, closeModal, addToCartTheProduct } from './templates/modal-product.js';\nimport { addToCartFromModal } from './homePage.js';\n\nexport async function openProductModal(event) {\n\n  if (event.target.closest('.js-addToCart-btn')) {\n      return;\n  }\n  // отримали інформацію по продукту\n  const ParentElement = event.target.closest('li');\n  const cardButton = ParentElement.querySelector('.js-addToCart-btn');\n  const productId = cardButton.getAttribute('data-id');\n  const productInfo = await getProducttById(productId);\n\n  // відмалювали модальне вікно, повісили слухачі подій\n  document.querySelector('body').insertAdjacentHTML('beforeend', onRenderModalProduct(productInfo));\n  document.body.classList.add('is-overflow-hidden');\n  const closeModalButton = document.querySelector('.modal-btn-close');\n  closeModalButton.addEventListener('click', onClickCloseModal);\n  document.addEventListener('keydown', onEscapeCloseModal);\n  document.addEventListener('click', onClickOutModalProduct);\n  document.querySelector('.modal-product-btn-price').addEventListener('click', addToCartFromModal);\n}\n","// import {arrProducts} from \"./homePage.js\"\nimport { getProducttById } from \"./api.js\";\nimport iconsPath from \"../images/icons.svg\"\nimport {getLength} from './header.js'\nimport { arrProducts } from './homePage.js';\n\n\n\nexport async function saveToLocalStorage(event) {\n   const id = event.currentTarget.getAttribute('data-id');\n   const passSvg = event.currentTarget.querySelector('use');\n   passSvg.setAttribute('href', `${iconsPath}#icon-checkmark`);\n   event.currentTarget.setAttribute('disabled', 'true');\n   const productData = {};\n\n   try {\n    const product = await getProducttById(id);\n   console.log(product);\n    const { category,  size, _id, name, price, img  } = product;\n    productData.category = category;\n    productData.size = size;\n    productData.id = _id;\n    productData.name = name;\n    productData.price = price;\n    productData.img = img;\n   } catch (error) {\n    console.log(error);\n   }\n    const localStorage = window.localStorage;\n\n    arrProducts.push(productData);\n   \n\n    localStorage.setItem(\"product\", JSON.stringify(arrProducts));\n\n    getLength();\n  }\n\n ","export function renderSorryMessage() {\n    return `\n        <div class=\"sorry-wrapper\">\n            <span class=\"emoji-sorry\">&#128561;</span>\n            <h3 class=\"sorry-message-text\"> Sorry, there are no items matching your filter request!</h3>\n        </div> \n    `;\n}","import iconsPath from '../images/icons.svg';\nimport pathToSvg from '../images/icons.svg';\nimport { getLength } from './header.js';\nimport {\n  openDropDown,\n  rotateButton,\n  changeCategoriesValue,\n  changeTypesValue,\n  collectQueryParameters,\n  renderCategoryList,\n} from './drop-downs.js';\nimport {\n  getProductsByQuery,\n  getAllProducts,\n  getDiscountProducts,\n  getPopularProducts,\n  getProducttById,\n  getCategories,\n} from './api.js';\nimport { renderMarkup } from './templates/cards.js';\nimport { openProductModal } from './card-button.js';\nimport { saveToLocalStorage } from './addToCart.js';\nimport localStorageAPI from './localStorage.js';\nimport { renderSorryMessage } from './templates/renderSorryMessage.js';\n\nconst searchForm = document.querySelector('.filters-form');\nconst categoriesInput = document.querySelector('.filters-categories');\nconst allSearchInput = document.querySelector('.filters-allTypes');\nconst downBtn = document.querySelectorAll('.filters-down-svg');\nconst allTypesItem = document.querySelectorAll('.filters-allTypes-item');\nconst productsListGeneral = document.querySelector('.products-list-general');\nconst productListDiscount = document.querySelector('.products-list-discount');\nconst productListPopular = document.querySelector('.products-list-popular');\n\nexport let arrProducts = [];\n\nconst fillarrProducts = () => {\n  const dataFromLS = localStorageAPI.load('product');\n\n  if (dataFromLS === undefined) {\n    document.querySelector('#header-length').innerHTML = '0';\n    return;\n  }\n  document.querySelector('#header-length').innerHTML = dataFromLS.length;\n  arrProducts = dataFromLS;\n};\nfillarrProducts();\n\nfunction loadQueryParamsFromLS() {\n  const paramsFromLS = localStorageAPI.load('queryParams');\n  if (!paramsFromLS) {\n    localStorageAPI.save('queryParams', {\n      keyword: '',\n      category: '',\n      page: 1,\n      limit: 9,\n    });\n  }\n}\nloadQueryParamsFromLS();\n\n//ДЕФОЛТНИЙ РЕНДЕР ТОВАРІВ ПРИ ПЕРШОМУ ЗАВАНТАЖЕННІ САЙТУ\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  try {\n    const listOfCategories = await getCategories();\n    renderCategoryList(listOfCategories);\n    document.querySelectorAll('.filters-categories-item').forEach(item => {\n      item.addEventListener('click', changeCategoriesValue);\n    });\n\n    const paramsFromLS = localStorageAPI.load('queryParams');\n    const allProduct = await getAllProducts(paramsFromLS);\n    const arrOfAllProducts = allProduct.results;\n    renderMarkup(arrOfAllProducts, 'general', productsListGeneral);\n\n    let cards = document.querySelectorAll('.product-card-general');\n    cards.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const arrOfDiscountProducts = await getDiscountProducts();\n    renderMarkup(arrOfDiscountProducts, 'discount', productListDiscount);\n    let cardsDisc = document.querySelectorAll('.discount-product-card');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const arrOfPopularProducts = await getPopularProducts();\n    renderMarkup(arrOfPopularProducts, 'popular', productListPopular);\n    let cardsPop = document.querySelectorAll('.popular-product-card');\n    cardsPop.forEach(card => {\n      card.addEventListener('click', openProductModal);\n\n      const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n      addToCartBtn.forEach(btn => {\n        btn.addEventListener('click', saveToLocalStorage);\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n});\n\n// РОБОТА ДРОПДАУНІВ + ІНПУТ\n\ncategoriesInput.addEventListener('click', openDropDown);\nallSearchInput.addEventListener('click', openDropDown);\ndownBtn.forEach(btn => {\n  btn.addEventListener('click', rotateButton);\n});\n\nallTypesItem.forEach(item => {\n  item.addEventListener('click', changeTypesValue);\n});\n\n// ФІЛЬТРАЦІЯ ТОВАРІВ\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  try {\n    const queryParameters = collectQueryParameters();\n    const response = await getProductsByQuery(queryParameters);\n    const productForRender = response.results;\n    productsListGeneral.innerHTML = '';\n    if (productForRender.length === 0) {\n      const sorryMessage = renderSorryMessage();\n      productsListGeneral.insertAdjacentHTML('beforeend', sorryMessage);\n    } else {\n      renderMarkup(productForRender, 'general', productsListGeneral);\n    }\n    let cardsDisc = document.querySelectorAll('.product-card-general');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      btn.addEventListener('click', saveToLocalStorage);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n});\n\n// ДОДАВАННЯ ТОВАРУ В КОРЗИНУ З МОДАЛЬНОГО ВІКНА\n\nexport async function addToCartFromModal(event) {\n  const productData = {};\n  const id = event.currentTarget.getAttribute('data-id');\n  const isInCart = arrProducts.some(product => product.id === id);\n\n  if (!isInCart) {\n    event.currentTarget.innerHTML = `Remove from <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n                <use class=\"modal-icon-svg\" href=\"${pathToSvg}#icon-shopping-cart\"></use>\n                </svg>`;\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      let _id = btn.getAttribute('data-id');\n      const passSvg = btn.querySelector('use');\n\n      if (_id === id) {\n        passSvg.setAttribute('href', `${iconsPath}#icon-checkmark`);\n        btn.disabled = true;\n      }\n    });\n\n    try {\n      const product = await getProducttById(id);\n      const { category, size, _id, name, price, img } = product;\n      productData.category = category;\n      productData.size = size;\n      productData.id = _id;\n      productData.name = name;\n      productData.price = price;\n      productData.img = img;\n    } catch (error) {\n      console.log(error);\n    }\n\n    const localStorage = window.localStorage;\n\n    arrProducts.push(productData);\n\n    localStorage.setItem('product', JSON.stringify(arrProducts));\n\n    getLength();\n  }\n\n  if (isInCart) {\n    event.currentTarget.innerHTML = `Add to <svg class=\"modal-btn-svg\" width=\"18\" height=\"18\">\n        <use class=\"modal-icon-svg\" href=\"${pathToSvg}#icon-shopping-cart\"></use>\n        </svg>`;\n    // Видаляємо продукт з arrProducts\n\n    const idCard = event.currentTarget.getAttribute('data-id');\n    arrProducts = arrProducts.filter(item => item.id !== idCard);\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      let _id = btn.getAttribute('data-id');\n      const passSvg = btn.querySelector('use');\n\n      if (_id === id) {\n        passSvg.setAttribute('href', `${iconsPath}#icon-shopping-cart`);\n        btn.disabled = false;\n      }\n    });\n\n    // Оновлюємо локалсторідж\n    localStorage.setItem('product', JSON.stringify(arrProducts));\n\n    getLength();\n  }\n}\n","import Pagination from 'tui-pagination';\nimport { getProductsByQuery } from './api.js';\nimport { renderMarkup } from './templates/cards.js';\nimport { collectQueryParameters } from './drop-downs.js';\nimport { renderSorryMessage } from './templates/renderSorryMessage.js';\nimport { openProductModal } from './card-button.js';\nimport { saveToLocalStorage } from './addToCart.js';\n\nconst productsListGeneral = document.querySelector('.products-list-general');\nconst container = document.querySelector('#tui-pagination-container');\n\nconst options = {\n  itemsPerPage: 1,\n  visiblePages: 4,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton: `<a href=\"#\" class=\"icon tui-page-btn tui-{{type}}\">\n      <span class=\"tui-ico-{{type}}\">{{type}}>\n      </span>\n      </a>`,\n    disabledMoveButton: `<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">\n      <span class=\"tui-ico-{{type}}\">{{type}}>\n      </span>\n      </span>`,\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst pagination = new Pagination(container, options);\n\n//Callback to switch between pages\nconst paginationClick = async event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n\n  try {\n    const queryParameters = collectQueryParameters();\n    queryParameters.page = currentPage;\n    const response = await getProductsByQuery(queryParameters);\n    const productForRender = response.results;\n\n    productsListGeneral.innerHTML = '';\n    if (productForRender.length === 0) {\n      const sorryMessage = renderSorryMessage();\n      productsListGeneral.insertAdjacentHTML('beforeend', sorryMessage);\n    } else {\n      renderMarkup(productForRender, 'general', productsListGeneral);\n    }\n    let cardsDisc = document.querySelectorAll('.product-card-general');\n    cardsDisc.forEach(card => {\n      card.addEventListener('click', openProductModal);\n    });\n\n    const addToCartBtn = document.querySelectorAll('.js-addToCart-btn');\n    addToCartBtn.forEach(btn => {\n      btn.addEventListener('click', saveToLocalStorage);\n    });\n  } catch (err) {\n    console.log(err);\n    // container.classList.add('is-hidden');\n  }\n};\npagination.on('afterMove', paginationClick);\n\n//Callback to update pagination with new values\nconst paginationUpdate = async event => {\n  try {\n    const queryParameters = collectQueryParameters();\n    const response = await getProductsByQuery(queryParameters);\n    if (response.totalPages === 1) {\n      container.classList.add('is-hidden');\n    } else {\n      pagination.setTotalItems(response.totalPages);\n      container.classList.remove('is-hidden');\n    }\n    pagination.reset();\n  } catch (err) {\n    console.log(err);\n  }\n};\ndocument.addEventListener('DOMContentLoaded', paginationUpdate);\n\nconst searchForm = document.querySelector('.filters-form');\nsearchForm.addEventListener('submit', paginationUpdate);\n","document.addEventListener('DOMContentLoaded', () => {\n    const cardsContainer = document.querySelector('.products-list-general');\n  \n    function handleScroll() {\n      const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;\n  \n      if (scrollPercent >= 30) {\n        cardsContainer.classList.add('animation');\n      }\n    }\n  \n    window.addEventListener('scroll', handleScroll);\n  });"],"names":["createProductCard","product","img","name","category","size","popularity","price","_id","is10PercentOff","isInCart","arrProducts","iconsPath","createPopularCard","createDiscountCard","renderMarkup","data","typeOfCard","listOfCard","markup","onClickCloseModal","modalProductBackdrop","onEscapeCloseModal","event","onClickOutModalProduct","onRenderModalProduct","desc","pathToSvg","openProductModal","productId","productInfo","getProducttById","addToCartFromModal","saveToLocalStorage","id","productData","error","localStorage","getLength","renderSorryMessage","searchForm","categoriesInput","allSearchInput","downBtn","allTypesItem","productsListGeneral","productListDiscount","productListPopular","fillarrProducts","dataFromLS","localStorageAPI","loadQueryParamsFromLS","listOfCategories","getCategories","renderCategoryList","item","changeCategoriesValue","paramsFromLS","arrOfAllProducts","getAllProducts","card","arrOfDiscountProducts","getDiscountProducts","arrOfPopularProducts","getPopularProducts","btn","openDropDown","rotateButton","changeTypesValue","queryParameters","collectQueryParameters","productForRender","getProductsByQuery","sorryMessage","passSvg","idCard","container","options","pagination","Pagination","paginationClick","currentPage","err","paginationUpdate","response","cardsContainer","handleScroll"],"mappings":"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"}